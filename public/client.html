<!doctype html>
<html style="height: 100%; width: 100%">
  <head>
    <meta charset="utf-8"/>
    <title>Kronstadt 1921</title>
    <link rel="stylesheet" href="client.css">
    <script src="snap.svg-min.js"></script>
    <script src="snap.svg.zpd.js"></script>
  </head>
  <body>
    <div class="hand" id="hand-1"></div>
    <div class="hand" id="hand-2"></div>
    <div class="hand" id="hand-3"></div>
    <div class="hand" id="hand-4"></div>
    <div class="hand" id="hand-5"></div>
    <div class="hand" id="hand-6"></div>
    <div style="
      background: snow;
      color: black;
      width: 29%;
      height: 100vh; float: left;
    ">
      <div style="font-size: 1.5vh; text-align: left; height: 47vh; border: 5px solid black; border-top: 0px; padding: 5px; user-select: none; overflow: hidden;">
<h2>Round Structure</h2>
<h3>Phase 1 - Attack</h3>
<pre>
- Abandon 1 city in your hand face down
- Attack 1 city from your hand face down
- Reveal attacked city simultaneously
- If total unrest in attacked cities is more than player count, smallest front line city falls into chaos 
- Use listed powers on city you attacked
</pre>
<h3>Phase 2 - Regroup</h3>
<pre>
- Draw from battle or villages until you have at least 2 in hand
</pre>
<h3>Phase 3 - Counterattack</h3>
<pre>
- Biggest city under attack falls into chaos, Tsar takes ties
- If front line is empty, game ends
</pre>
<h3>Phase 4 - Auction</h3>
<pre>
- Use bonus powers on cities under attack
- Raise bid by any amount of imperial rubles any time
- Withdraw if tied and not last bidder
- When no one wants to, highest untied bidder places smallest city on the front line under attack
- Buyer may attack any cities in chaos, Tsar takes remaining
</pre>
<h3>Phase 5 - Chaos</h3>
<pre>
- Cities under attack enter the battle from smallest to biggest 
</pre>
      </div>
      <div id="detail" style="color: black;"></div>
      <div style="font-size: 1.5vh; text-align: left; height: 15vh; border: 5px solid black; border-bottom: 0px; padding: 5px 5px 5px 5px; user-select: none; overflow: hidden;">
<h3>Victory</h3>
<pre>
- Points equals size of cities in hand and under attack
- 1 point for rubles
- No points for cities in battle
- Tiebreaker is biggest city in hand
</pre>
      </div>
    </div>
    <div style="width: 71%; height: 100vh; border: 0px; padding: 0px; float: right;">
      <svg id="mysvg"></svg>
    </div>
    <div
      id="title"
      style="
        position: absolute;
        bottom: 0;
        right: 0;
        background: snow;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        gap: 2vh;
        padding: 2vh;
        visibility: hidden;
        z-index: -1;
      "
    >
      <p
        style="
          font-size: 3vh;
          font-weight: bold;
          color: black;
        "
      >
        Kronstadt 1922
      </p>
    </div>
    <div
      id="loading"
      style="
        position: absolute;
        width: 75%;
        height: 100%;
        background: f7f1f5;
        display: flex;
        justify-content: center;
        align-items: center;
        right: 0;
        color: black;
      "
    >
      <div
        style="
          padding: 1vh;
          text-align: center;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          gap: 6vh;
        "
      >
        <p
          style="
            font-size: 9vh;
            font-weight: bold;
          "
        >
          Kronstadt 1921
        </p>

        <p
          style="
            font-size: 5vh;
            font-weight: bold;
          "
        >
          Loading...
        </p>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.js"></script> 
    <script src="//cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
    <script src="smartdrag.js" type="text/javascript"></script>
    <script src="client.js" type="text/javascript"></script>
    <script src="assets/setup.js" type="text/javascript"></script>
  </body>
</html>
